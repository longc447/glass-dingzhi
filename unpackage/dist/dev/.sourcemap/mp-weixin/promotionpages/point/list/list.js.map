{"version":3,"sources":["uni-app:///main.js","webpack:////Users/longchu/Documents/接单/改客服源码/promotionpages/point/list/list.vue?ed62","webpack:////Users/longchu/Documents/接单/改客服源码/promotionpages/point/list/list.vue?a22e","webpack:////Users/longchu/Documents/接单/改客服源码/promotionpages/point/list/list.vue?8af4","webpack:////Users/longchu/Documents/接单/改客服源码/promotionpages/point/list/list.vue?5dd9","uni-app:///promotionpages/point/list/list.vue","webpack:////Users/longchu/Documents/接单/改客服源码/promotionpages/point/list/list.vue?04da","webpack:////Users/longchu/Documents/接单/改客服源码/promotionpages/point/list/list.vue?1561","webpack:////Users/longchu/Documents/接单/改客服源码/promotionpages/point/list/list.vue?a48f","webpack:////Users/longchu/Documents/接单/改客服源码/promotionpages/point/list/list.vue?8f96"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","uniPopup","data","mescroll","categoryList","id","name","selectCategoryId","goodsList","couponList","hongbaoList","isLogin","point","siteId","token","isloading","memberInfo","headimg","signState","onLoad","options","mixins","onShow","title","mask","setTimeout","computed","storeToken","watch","methods","getSignState","url","success","openPointPopup","closePointPopup","jumpPage","getData","page_size","page","type","site_id","newArr","fail","getCouponList","getHongbaoList","toDetail","e","getMemberInfo","getAccountInfo","account_type","login","imgError","index","goodsImg","onShareAppMessage","res","path"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,yG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACc;AACuB;;;AAGxF;AACyN;AACzN,gBAAgB,uNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACxBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,yLAEN;AACP,KAAK;AACL;AACA,aAAa,+LAEN;AACP,KAAK;AACL;AACA,aAAa,uNAEN;AACP,KAAK;AACL;AACA,aAAa,+OAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;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","file":"promotionpages/point/list/list.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './promotionpages/point/list/list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./list.vue?vue&type=template&id=8c37f6a0&scoped=true&\"\nvar renderjs\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./list.vue?vue&type=style&index=1&id=8c37f6a0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8c37f6a0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"promotionpages/point/list/list.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=template&id=8c37f6a0&scoped=true&\"","var components\ntry {\n  components = {\n    nsEmpty: function () {\n      return import(\n        /* webpackChunkName: \"components/ns-empty/ns-empty\" */ \"@/components/ns-empty/ns-empty.vue\"\n      )\n    },\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    loadingCover: function () {\n      return import(\n        /* webpackChunkName: \"components/loading-cover/loading-cover\" */ \"@/components/loading-cover/loading-cover.vue\"\n      )\n    },\n    nsLogin: function () {\n      return import(\n        /* webpackChunkName: \"components/ns-login/ns-login\" */ \"@/components/ns-login/ns-login.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.addonIsExit.pointexchange\n    ? _vm.$util.img(\"upload/uniapp/point/point_bg.png\")\n    : null\n  var g1 =\n    _vm.addonIsExit.pointexchange && !!_vm.token && _vm.memberInfo.headimg\n      ? _vm.$util.img(_vm.memberInfo.headimg)\n      : null\n  var g2 =\n    _vm.addonIsExit.pointexchange && !!_vm.token && !_vm.memberInfo.headimg\n      ? _vm.$util.getDefaultImage()\n      : null\n  var g3 = _vm.$util.img(\"upload/uniapp/point/coupon_bg1.png\")\n  var g4 = _vm.$util.img(\"upload/uniapp/point/coupon_bg1.png\")\n  var l0 =\n    _vm.addonIsExit.pointexchange && _vm.couponList.length > 0\n      ? _vm.__map(_vm.couponList, function (couponItem, couponIndex) {\n          var $orig = _vm.__get_orig(couponItem)\n\n          var m0 =\n            couponItem.coupon_type == \"reward\"\n              ? parseFloat(couponItem.money)\n              : null\n          var m1 =\n            !(couponItem.coupon_type == \"reward\") &&\n            couponItem.coupon_type == \"discount\"\n              ? parseFloat(couponItem.discount)\n              : null\n          var m2 =\n            !(couponItem.coupon_type == \"reward\") &&\n            !(couponItem.coupon_type == \"discount\")\n              ? parseFloat(couponItem.money)\n              : null\n          var g5 = !(couponItem.at_least == 0)\n            ? parseFloat(couponItem.at_least).toFixed(0)\n            : null\n          return {\n            $orig: $orig,\n            m0: m0,\n            m1: m1,\n            m2: m2,\n            g5: g5,\n          }\n        })\n      : null\n  var g6 = _vm.$util.img(\"upload/uniapp/point/hongbao_bg.png\")\n  var l1 =\n    _vm.addonIsExit.pointexchange && _vm.hongbaoList.length > 0\n      ? _vm.__map(_vm.hongbaoList, function (hongbaoItem, hongbaoIndex) {\n          var $orig = _vm.__get_orig(hongbaoItem)\n\n          var g7 = parseFloat(hongbaoItem.balance).toFixed(0)\n          return {\n            $orig: $orig,\n            g7: g7,\n          }\n        })\n      : null\n  var l2 =\n    _vm.addonIsExit.pointexchange &&\n    _vm.goodsList.length > 0 &&\n    _vm.goodsList.length\n      ? _vm.__map(_vm.goodsList, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m3 = _vm.goodsImg(item)\n          var m4 =\n            item.price > 0 && item.pay_type > 0\n              ? _vm.$lang(\"common.currencySymbol\")\n              : null\n          return {\n            $orig: $orig,\n            m3: m3,\n            m4: m4,\n          }\n        })\n      : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.memberInfo.headimg = _vm.$util.getDefaultImage().default_headimg\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        l0: l0,\n        g6: g6,\n        l1: l1,\n        l2: l2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"point-wrap\" :data-theme=\"themeStyle\">\r\n\t\t<mescroll-uni @getData=\"getData\" ref=\"mescroll\" :size=\"10\" v-if=\"addonIsExit.pointexchange\">\r\n\t\t\t<block slot=\"list\">\r\n\t\t\t\t<view class=\"head-wrap color-base-bg\">\r\n\t\t\t\t\t<image :src=\"$util.img('upload/uniapp/point/point_bg.png')\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<view class=\"wrap\" :class=\"{ 'no-login': !token }\">\r\n\t\t\t\t\t\t<view v-if=\"!token\" @click=\"login\">\r\n\t\t\t\t\t\t\t<view class=\"lineheight-clear\"><text class=\"font-size-toolbar login-btn\">立即登录</text></view>\r\n\t\t\t\t\t\t\t<view class=\"lineheight-clear\"><text class=\"font-size-tag\">登录后查看我的积分</text></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view v-else class=\"member-wrap\">\r\n\t\t\t\t\t\t\t<view class=\"headimg\">\r\n\t\t\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\t\t\t:src=\"memberInfo.headimg ? $util.img(memberInfo.headimg) : $util.getDefaultImage().default_headimg\"\r\n\t\t\t\t\t\t\t\t\tmode=\"aspectFill\"\r\n\t\t\t\t\t\t\t\t\t@error=\"memberInfo.headimg = $util.getDefaultImage().default_headimg\"\r\n\t\t\t\t\t\t\t\t></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"point\">{{ point }}</text>\r\n\t\t\t\t\t\t\t<text class=\"point-name\">积分</text>\r\n\t\t\t\t\t\t\t<view class=\"rule\">\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont iconwenhao\"></text>\r\n\t\t\t\t\t\t\t\t<text class=\"font-size-tag\" @click=\"openPointPopup()\">兑换规则</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"action-wrap\" v-if=\"token\">\r\n\t\t\t\t\t\t\t<view @click=\"jumpPage('/otherpages/member/point/point')\">\r\n\t\t\t\t\t\t\t\t积分明细\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont iconright\"></text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"split\"></view>\r\n\t\t\t\t\t\t\t<view @click=\"jumpPage('/promotionpages/point/order_list/order_list')\">\r\n\t\t\t\t\t\t\t\t兑换记录\r\n\t\t\t\t\t\t\t\t<text class=\"iconfont iconright\"></text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"body-wrap\" :class=\"{ 'no-login': !token }\">\r\n\t\t\t\t\t<view class=\"point-exchange-wrap\" v-if=\"couponList.length > 0\">\r\n\t\t\t\t\t\t<view class=\"type-wrap\">\r\n\t\t\t\t\t\t\t<text class=\"type-name\">积分换券</text>\r\n\t\t\t\t\t\t\t<view></view>\r\n\t\t\t\t\t\t\t<text class=\"type-sub\">更多好券，帮你省钱</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"list-wrap\">\r\n\t\t\t\t\t\t\t<view class=\"list-wrap-scroll\">\r\n\t\t\t\t\t\t\t\t<view class=\"list-wrap-item coupon-list-wrap-item\" v-for=\"(couponItem, couponIndex) in couponList\" :key=\"couponIndex\" @click=\"toDetail(couponItem)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"img-box\"><image :src=\"$util.img('upload/uniapp/point/coupon_bg1.png')\" @error=\"imgError(couponIndex)\"></image></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"coupon\" :style=\"{ backgroundImage: 'url(' + $util.img('upload/uniapp/point/coupon_bg1.png') + ')' }\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"coupon_left color-line-border\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"price color-base-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<block v-if=\"couponItem.coupon_type == 'reward'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text>￥</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{ parseFloat(couponItem.money) }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<block v-else-if=\"couponItem.coupon_type == 'discount'\">{{ parseFloat(couponItem.discount) }}折</block>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<block v-else>{{ parseFloat(couponItem.money) }}元</block>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"coupon_condition font-size-activity-tag color-base-text\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{ couponItem.at_least == 0 ? '无门槛优惠券' : '满' + parseFloat(couponItem.at_least).toFixed(0) + '可用' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"coupon_type font-size-activity-tag color-base-text\">{{ couponItem.goods_type == 2 ? '指定券' : '全场券' }}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"coupon_right\" style=\"min-width: 70px;\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"coupon_num color-base-text font-size-tag disFlex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"textOve width35\">{{ couponItem.point }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t积分\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"coupon_btn color-base-text margin-top\">兑换</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"point-exchange-wrap\" v-if=\"hongbaoList.length > 0\">\r\n\t\t\t\t\t\t<view class=\"type-wrap\">\r\n\t\t\t\t\t\t\t<text class=\"type-name\">积分换红包</text>\r\n\t\t\t\t\t\t\t<view></view>\r\n\t\t\t\t\t\t\t<text class=\"type-sub\">红包在手，省钱有道</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"list-wrap\">\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"list-wrap-item hongbao-list-wrap-item\"\r\n\t\t\t\t\t\t\t\tv-for=\"(hongbaoItem, hongbaoIndex) in hongbaoList\"\r\n\t\t\t\t\t\t\t\t:key=\"hongbaoIndex\"\r\n\t\t\t\t\t\t\t\t@click=\"toDetail(hongbaoItem)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<view class=\"img-box\"><image :src=\"$util.img('upload/uniapp/point/hongbao_bg.png')\"></image></view>\r\n\t\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"coupon hongbao\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"coupon_left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"price \">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text>￥</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ parseFloat(hongbaoItem.balance).toFixed(0) }}\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"coupon_condition font-size-activity-tag\">{{ hongbaoItem.name }}</view> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"coupon_condition font-size-activity-tag\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text>{{ hongbaoItem.point }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"paddL_2\">积分</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"coupon_right flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"coupon_num  font-size-tag disFlex\"><text class=\"textOve\">{{ hongbaoItem.point }}</text><text class=\"paddL_2\">积分</text></view> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"coupon_btn\">兑换</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"point-exchange-wrap\" v-if=\"goodsList.length > 0\">\r\n\t\t\t\t\t\t<view class=\"type-wrap\">\r\n\t\t\t\t\t\t\t<text class=\"type-name\">积分换好物</text>\r\n\t\t\t\t\t\t\t<view></view>\r\n\t\t\t\t\t\t\t<text class=\"type-sub\">积累积分，兑换好物</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"list-wrap\">\r\n\t\t\t\t\t\t\t<view class=\"goods-list double-column\" v-if=\"goodsList.length\">\r\n\t\t\t\t\t\t\t\t<view class=\"goods-item margin-bottom\" v-for=\"(item, index) in goodsList\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"goods-img\" @click=\"toDetail(item)\"><image :src=\"goodsImg(item)\" mode=\"widthFix\" @error=\"imgError(index)\"></image></view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"info-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"name-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"goods-name\" @click=\"toDetail(item)\">{{ item.name }}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"lineheight-clear\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"discount-price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"unit color-base-text\">{{ item.point }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"unit color-base-text font-size-tag\">积分</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<block v-if=\"item.price > 0 && item.pay_type > 0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"unit color-base-text font-size-tag\">+</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"unit color-base-text font-size-tag\">{{ $lang('common.currencySymbol') }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"price color-base-text font-size-toolbar\">{{ item.price }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"pro-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"font-size-activity-tag color-tip\">库存{{ item.stock }}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"sale font-size-activity-tag color-tip\" @click=\"toDetail(item)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- <button type=\"primary\" size=\"mini\">立即兑换</button> -->\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view><ns-empty text=\"暂无数据\" :isIndex=\"!1\" :fixed=\"!1\"></ns-empty></view>\r\n\t\t\t</block>\r\n\t\t</mescroll-uni>\r\n\r\n\t\t<!-- 弹出规则 -->\r\n\t\t<view @touchmove.prevent.stop>\r\n\t\t\t<uni-popup ref=\"pointPopup\" type=\"bottom\">\r\n\t\t\t\t<view class=\"tips-layer\">\r\n\t\t\t\t\t<view class=\"head\" @click=\"closePointPopup()\">\r\n\t\t\t\t\t\t<view class=\"title\">积分说明</view>\r\n\t\t\t\t\t\t<text class=\"iconfont iconclose\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t\t<view class=\"detail margin-bottom\">\r\n\t\t\t\t\t\t\t<view class=\"tip\">积分的获取</view>\r\n\t\t\t\t\t\t\t<view class=\"font-size-base\">1、积分可在注册、签到、分享、消费、充值时获得。</view>\r\n\t\t\t\t\t\t\t<view class=\"font-size-base\">2、在购买部分商品时可获得积分。</view>\r\n\t\t\t\t\t\t\t<view class=\"tip\">积分的使用</view>\r\n\t\t\t\t\t\t\t<view class=\"font-size-base\">1、积分可用于兑换积分中心的商品。</view>\r\n\t\t\t\t\t\t\t<view class=\"font-size-base\">2、积分可在参与某些活动时使用。</view>\r\n\t\t\t\t\t\t\t<view class=\"font-size-base\">3、积分不得转让，出售，不设有效期。</view>\r\n\t\t\t\t\t\t\t<view class=\"tip\">积分的查询</view>\r\n\t\t\t\t\t\t\t<view class=\"font-size-base\">1、积分可在会员中心中查询具体数额以及明细。</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</uni-popup>\r\n\t\t</view>\r\n\t\t<loading-cover ref=\"loadingCover\"></loading-cover>\r\n\t\t<ns-login ref=\"login\"></ns-login>\r\n\t</view>\r\n</template>\r\n<script>\r\nimport uniPopup from '@/components/uni-popup/uni-popup.vue';\r\nimport globalConfig from '@/common/js/golbalConfig.js';\r\nexport default {\r\n\tcomponents: {\r\n\t\tuniPopup\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmescroll: null,\r\n\t\t\tcategoryList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tname: '积分换好物'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\tname: '积分换券'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 3,\r\n\t\t\t\t\tname: '积分换红包'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tselectCategoryId: 1,\r\n\t\t\tgoodsList: [],\r\n\t\t\tcouponList: [],\r\n\t\t\thongbaoList: [],\r\n\t\t\tisLogin: false,\r\n\t\t\tpoint: 0,\r\n\t\t\tsiteId: 0,\r\n\t\t\ttoken: null,\r\n\t\t\tisloading: false,\r\n\t\t\tmemberInfo: {\r\n\t\t\t\theadimg: ''\r\n\t\t\t},\r\n\t\t\tsignState: 1 // 签到是否开启\r\n\t\t};\r\n\t},\r\n\tonLoad(options) {\r\n\t\tif (options.site_id) {\r\n\t\t\tthis.siteId = options.site_id;\r\n\t\t}\r\n\t},\r\n\tmixins: [globalConfig],\r\n\tonShow() {\r\n\t\t// 刷新多语言\r\n\t\tthis.$langConfig.refresh();\r\n\t\tthis.$store.dispatch('getAddonIsexit').then(data => {\r\n\t\t\tif (!data.pointexchange) {\r\n\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\ttitle: '积分商城未开启',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.$util.redirectTo('/pages/index/index/index', {}, 'redirectTo');\r\n\t\t\t\t}, 1000);\r\n\t\t\t} else {\r\n\t\t\t\tif (uni.getStorageSync('token')) this.getMemberInfo();\r\n\t\t\t\tthis.getCouponList();\r\n\t\t\t\tthis.getHongbaoList();\r\n\t\t\t\tthis.getSignState();\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tcomputed: {\r\n\t\tstoreToken() {\r\n\t\t\treturn this.$store.state.token;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tstoreToken: function(nVal, oVal) {\r\n\t\t\tif (nVal) {\r\n\t\t\t\tthis.getMemberInfo();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 签到是否开启\r\n\t\tgetSignState() {\r\n\t\t\tthis.$api.sendRequest({\r\n\t\t\t\turl: '/api/membersignin/getSignStatus',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.signState = res.data.is_use;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 打开积分说明弹出层\r\n\t\topenPointPopup() {\r\n\t\t\tthis.$refs.pointPopup.open();\r\n\t\t},\r\n\t\tclosePointPopup() {\r\n\t\t\tthis.$refs.pointPopup.close();\r\n\t\t},\r\n\t\tjumpPage(url) {\r\n\t\t\tthis.$util.redirectTo(url);\r\n\t\t},\r\n\t\t//获取积分商品详情\r\n\t\tgetData(mescroll) {\r\n\t\t\tthis.mescroll = mescroll;\r\n\t\t\tthis.isloading = true;\r\n\t\t\tthis.$api.sendRequest({\r\n\t\t\t\turl: '/pointexchange/api/goods/page',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tpage_size: mescroll.size,\r\n\t\t\t\t\tpage: mescroll.num,\r\n\t\t\t\t\ttype: 1,\r\n\t\t\t\t\tsite_id: this.siteId\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.isloading = false;\r\n\t\t\t\t\tlet newArr = [];\r\n\t\t\t\t\tlet msg = res.message;\r\n\t\t\t\t\tif (res.code == 0 && res.data) {\r\n\t\t\t\t\t\tnewArr = res.data.list;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\ttitle: msg\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmescroll.endSuccess(newArr.length);\r\n\t\t\t\t\t//设置列表数据\r\n\t\t\t\t\tif (mescroll.num == 1) this.goodsList = []; //如果是第一页需手动制空列表\r\n\t\t\t\t\tthis.goodsList = this.goodsList.concat(newArr); //追加新数据\r\n\t\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t\t},\r\n\t\t\t\tfail() {\r\n\t\t\t\t\t//联网失败的回调\r\n\t\t\t\t\tthis.isloading = false;\r\n\t\t\t\t\tmescroll.endErr();\r\n\t\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 优惠券\r\n\t\tgetCouponList() {\r\n\t\t\tthis.$api.sendRequest({\r\n\t\t\t\turl: '/pointexchange/api/goods/page',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tpage_size: 0,\r\n\t\t\t\t\ttype: 2\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.code == 0 && res.data) {\r\n\t\t\t\t\t\tthis.couponList = res.data.list;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t\t},\r\n\t\t\t\tfail() {\r\n\t\t\t\t\t//联网失败的回调\r\n\t\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 红包\r\n\t\tgetHongbaoList() {\r\n\t\t\tthis.$api.sendRequest({\r\n\t\t\t\turl: '/pointexchange/api/goods/page',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tpage_size: 0,\r\n\t\t\t\t\ttype: 3\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.code == 0 && res.data) {\r\n\t\t\t\t\t\tthis.hongbaoList = res.data.list;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t\t},\r\n\t\t\t\tfail() {\r\n\t\t\t\t\t//联网失败的回调\r\n\t\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//获取积分商品详情\r\n\t\t// getData(mescroll) {\r\n\t\t// \t// this.mescroll = mescroll;\r\n\t\t// \tthis.$api.sendRequest({\r\n\t\t// \t\turl: '/pointexchange/api/goods/page',\r\n\t\t// \t\tdata: {\r\n\t\t// \t\t\tpage_size: mescroll.size,\r\n\t\t// \t\t\tpage: mescroll.num,\r\n\t\t// \t\t\ttype: 1\r\n\t\t// \t\t},\r\n\t\t// \t\tsuccess: res => {\r\n\t\t// \t\t\tlet newArr = [];\r\n\t\t// \t\t\tlet msg = res.message;\r\n\t\t// \t\t\tif (res.code == 0 && res.data) {\r\n\t\t// \t\t\t\tnewArr = res.data.list;\r\n\t\t// \t\t\t} else {\r\n\t\t// \t\t\t\tthis.$util.showToast({\r\n\t\t// \t\t\t\t\ttitle: msg\r\n\t\t// \t\t\t\t});\r\n\t\t// \t\t\t}\r\n\t\t// \t\t\tmescroll.endSuccess(newArr.length);\r\n\t\t// \t\t\t//设置列表数据\r\n\t\t// \t\t\tif (mescroll.num == 1) this.goodsList = []; //如果是第一页需手动制空列表\r\n\t\t// \t\t\tthis.goodsList = this.goodsList.concat(newArr); //追加新数据\r\n\t\t// \t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t// \t\t},\r\n\t\t// \t\tfail() {\r\n\t\t// \t\t\t//联网失败的回调\r\n\t\t// \t\t\tmescroll.endErr();\r\n\t\t// \t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// },\r\n\t\t//跳转至详情页面\r\n\t\ttoDetail(e) {\r\n\t\t\tthis.$util.redirectTo('/promotionpages/point/detail/detail', {\r\n\t\t\t\tid: e.id\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetMemberInfo() {\r\n\t\t\tthis.$api.sendRequest({\r\n\t\t\t\turl: '/api/member/info',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\tthis.token = uni.getStorageSync('token');\r\n\t\t\t\t\t\tthis.memberInfo = res.data;\r\n\t\t\t\t\t\tthis.getAccountInfo();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.token = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//获取个人\r\n\t\tgetAccountInfo() {\r\n\t\t\tthis.$api.sendRequest({\r\n\t\t\t\turl: '/api/memberaccount/info',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\taccount_type: 'point'\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.code == 0 && res.data) {\r\n\t\t\t\t\t\tif (!isNaN(parseFloat(res.data.point))) {\r\n\t\t\t\t\t\t\tthis.point = parseFloat(res.data.point).toFixed(0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//跳转至登录页面\r\n\t\tlogin() {\r\n\t\t\tthis.$refs.login.open('/promotionpages/point/list/list');\r\n\t\t},\r\n\t\timgError(index) {\r\n\t\t\tthis.goodsList[index].image = this.$util.getDefaultImage().default_goods_img;\r\n\t\t\tthis.$forceUpdate();\r\n\t\t},\r\n\t\tgoodsImg(data) {\r\n\t\t\tswitch (data.type) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\treturn this.$util.img(data.image.split(',')[0]);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\treturn data.image ? this.$util.img(data.image) : this.$util.img('upload/uniapp/point/coupon.png');\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\treturn data.image ? this.$util.img(data.image) : this.$util.img('upload/uniapp/point/hongbao.png');\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tonShareAppMessage(res) {\r\n\t\tvar title = '积分兑换，好礼带回家哦';\r\n\t\tvar path = '/promotionpages/point/list/list';\r\n\t\treturn {\r\n\t\t\ttitle: title,\r\n\t\t\tpath: path,\r\n\t\t\tsuccess: res => {},\r\n\t\t\tfail: res => {}\r\n\t\t};\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../public/css/list.scss';\r\n</style>\r\n<style scoped>\r\n/deep/ .reward-popup .uni-popup__wrapper-box {\r\n\tbackground: none !important;\r\n\tmax-width: unset !important;\r\n\tmax-height: unset !important;\r\n}\r\n.textOve {\r\n\tdisplay: inline-block;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: normal;\r\n\tpadding-left: 3px;\r\n}\r\n.width35 {\r\n\twidth: 35px;\r\n}\r\n.width34 {\r\n\twidth: 34px;\r\n}\r\n.paddL_2 {\r\n\tpadding-left: -2px;\r\n}\r\n.disFlex {\r\n\tdisplay: flex;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1666844731088\n      var cssReload = require(\"/Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=style&index=1&id=8c37f6a0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=style&index=1&id=8c37f6a0&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1666844719589\n      var cssReload = require(\"/Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}