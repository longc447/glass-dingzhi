{"version":3,"sources":["uni-app:///main.js","webpack:////Users/longchu/Documents/接单/改客服源码/App.vue?1f3a","webpack:////Users/longchu/Documents/接单/改客服源码/App.vue?9900","uni-app:///App.vue","webpack:////Users/longchu/Documents/接单/改客服源码/App.vue?f02e","webpack:////Users/longchu/Documents/接单/改客服源码/App.vue?6344"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","prototype","$store","store","config","productionTip","$util","Util","$api","Http","$langConfig","Lang","$lang","lang","$config","Config","App","mpType","component","loadingCover","nsEmpty","MescrollUni","MescrollBody","NsLogin","app","$mount","mixins","onLaunch","data","uni","updateManager","title","content","success","res","showCancel","onShow","url","redirect_url","location","code","onHide","methods","authLogin","key"],"mappings":";;;;;;;;;iDAAA;;AAE2D;AAC3D;AACA;AACA;AACA;AACA;AACA,2F,omCAPA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;;AASAC,YAAA,CAAIC,SAAJ,CAAcC,MAAd,GAAuBC,cAAvB,C,CAA6B;;AAE7BH,YAAA,CAAII,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;;AAEAL,YAAA,CAAIC,SAAJ,CAAcK,KAAd,GAAsBC,aAAtB;AACAP,YAAA,CAAIC,SAAJ,CAAcO,IAAd,GAAqBC,aAArB;;AAEAT,YAAA,CAAIC,SAAJ,CAAcS,WAAd,GAA4BC,aAA5B,C,CAAkC;AAClCX,YAAA,CAAIC,SAAJ,CAAcW,KAAd,GAAsBD,aAAA,CAAKE,IAA3B,C,CAAiC;;AAEjCb,YAAA,CAAIC,SAAJ,CAAca,OAAd,GAAwBC,eAAxB;;AAEAC,YAAA,CAAIC,MAAJ,GAAa,KAAb;;AAEA;;AAEAjB,YAAA,CAAIkB,SAAJ,CAAc,eAAd,EAA+BC,YAA/B,E;;;AAGAnB,YAAA,CAAIkB,SAAJ,CAAc,UAAd,EAA0BE,OAA1B,E;;;AAGApB,YAAA,CAAIkB,SAAJ,CAAc,cAAd,EAA8BG,WAA9B,E,CAA4C;;;AAG5CrB,YAAA,CAAIkB,SAAJ,CAAc,eAAd,EAA+BI,YAA/B,E;;;AAGAtB,YAAA,CAAIkB,SAAJ,CAAc,UAAd,EAA0BK,OAA1B;;AAEA,IAAMC,GAAG,GAAG,IAAIxB,YAAJ;AACRgB,YADQ;EAEXb,KAAK,EAALA,cAFW,IAAZ;;;AAKA,UAAAqB,GAAG,EAACC,MAAJ,G;;;;;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACc;;;AAGhE;AACgN;AAChN,gBAAgB,uNAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAi0B,CAAgB,+zBAAG,EAAC,C;;;;;;;;;;;;ACCr1B;AACA,yF;AACA;EACAC,uBADA;EAEAC,QAFA,oBAEAC,IAFA,EAEA;IACA;MACAC;IACA;IACAA;;;IAGA;IACAC;MACA;IACA,CAFA;;IAIAA;MACAD;QACAE,aADA;QAEAC,2BAFA;QAGAC,OAHA,mBAGAC,GAHA,EAGA;UACA;YACA;YACAJ;UACA;QACA,CARA;;IAUA,CAXA;;IAaAA;MACA;IACA,CAFA;;IAIA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;;;;;;;;;;;;;;;;;;IAkBAD;MACA;QACAA;UACAE,eADA;UAEAC,kBAFA;UAGAG,iBAHA;;MAKA;IACA,CARA;EASA,CA9EA;EA+EAC;IACA;IACA;IACA;;MAEA;QACA;UACA;UACA;YACA;cACAC,kCADA;cAEAT;gBACAU,2BADA,EAFA;;cAKAL;gBACA;kBACAM;gBACA;cACA,CATA;;UAWA,CAZA,MAYA;YACA;cACAF,0CADA;cAEAT;gBACAY,oBADA,EAFA;;cAKAP;gBACA;kBACA;kBACA;kBACA;kBACA;kBACA;gBACA;cACA,CAbA;;UAeA;QACA,CA/BA;MAgCA;;IAEA;EACA,CAxHA;EAyHAQ;IACA;EACA,CA3HA;EA4HAC;IACA;AACA;AACA;IACAC,SAJA,qBAIAf,IAJA,EAIA;MACAC;QACAe,eADA;QAEAhB,UAFA;;;MAKA;;MAEA;QACAS,sBADA;QAEAT,UAFA;QAGAK;UACA;YACAJ;cACAe,YADA;cAEAhB,oBAFA;cAGAK;gBACA;gBACA;cACA,CANA;;UAQA,CATA,MASA;YACAJ;cACAe,cADA;cAEAhB,OAFA;cAGAK,8BAHA;;UAKA;QACA,CApBA;;IAsBA,CAlCA,EA5HA,E;;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAgiD,CAAgB,s9CAAG,EAAC,C;;;;;;;;;;ACApjD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import Vue from 'vue'\nimport App from './App'\nimport store from './store'\nimport Util from './common/js/util.js'\nimport Http from './common/js/http.js'\nimport Lang from './common/js/lang.js'\nimport Config from './common/js/config.js'\n\n\nVue.prototype.$store = store //挂在vue\n\nVue.config.productionTip = false\n\nVue.prototype.$util = Util;\nVue.prototype.$api = Http;\n\nVue.prototype.$langConfig = Lang; //语言包对象\nVue.prototype.$lang = Lang.lang; //解析语言包\n\nVue.prototype.$config = Config;\n\nApp.mpType = 'app'\n\n//常用组件\nimport loadingCover from '@/components/loading-cover/loading-cover.vue';\nVue.component('loading-cover', loadingCover);\n\nimport nsEmpty from '@/components/ns-empty/ns-empty.vue';\nVue.component('ns-empty', nsEmpty);\n\nimport MescrollUni from \"@/components/mescroll/my-list-mescroll.vue\";\nVue.component(\"mescroll-uni\", MescrollUni); //上拉加载,下拉刷新组件\n\nimport MescrollBody from \"@/components/mescroll/mescroll-body.vue\"\nVue.component('mescroll-body', MescrollBody);\n\nimport NsLogin from \"@/components/ns-login/ns-login.vue\"\nVue.component('ns-login', NsLogin);\n\nconst app = new Vue({\n\t...App,\n\tstore\n})\n\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\nimport auth from 'common/js/auth.js';\r\nimport config from 'common/js/config.js';\r\nexport default {\r\n  mixins: [auth],\r\n  onLaunch(data) {\r\n    if (uni.getStorageSync('baseUrl') != config.baseUrl) {\r\n      uni.clearStorageSync();\r\n    }\r\n    uni.setStorageSync('baseUrl', config.baseUrl);\r\n\r\n    // #ifdef MP\r\n    const updateManager = uni.getUpdateManager();\r\n    updateManager.onCheckForUpdate(function(res) {\r\n      // 请求完新版本信息的回调\r\n    });\r\n\r\n    updateManager.onUpdateReady(function(res) {\r\n      uni.showModal({\r\n        title: '更新提示',\r\n        content: '新版本已经准备好，是否重启应用？',\r\n        success(res) {\r\n          if (res.confirm) {\r\n            // 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\r\n            updateManager.applyUpdate();\r\n          }\r\n        },\r\n      });\r\n    });\r\n\r\n    updateManager.onUpdateFailed(function(res) {\r\n      // 新的版本下载失败\r\n    });\r\n    // #endif\r\n    // uni.getLocation({\r\n    // \ttype: 'gcj02',\r\n    // \tsuccess: res => {\r\n    // \t\tlet obj = uni.getStorageSync('location');\r\n    // \t\tif (obj) {\r\n    // \t\t\tlet a = this.$util.getDistance(obj.latitude, obj.longitude, res.latitude, res.longitude);\r\n    // \t\t\tif (a > 20) {\r\n    // \t\t\t\tuni.removeStorageSync('store');\r\n    // \t\t\t}\r\n    // \t\t}\r\n    // \t\tuni.setStorage({\r\n    // \t\t\tkey: 'location',\r\n    // \t\t\tdata: {\r\n    // \t\t\t\tlatitude: res.latitude,\r\n    // \t\t\t\tlongitude: res.longitude\r\n    // \t\t\t}\r\n    // \t\t});\r\n    // \t}\r\n    // });\r\n\r\n    //判断是否支持 获取本地位置\r\n    // #ifdef H5\r\n    if (navigator.geolocation) {\r\n      var n = navigator.geolocation.getCurrentPosition(function(res) {\r\n        console.log(res); // 需要的坐标地址就在res中\r\n      });\r\n    } else {\r\n      console.log('该浏览器不支持定位');\r\n    }\r\n\r\n    // #endif\r\n\r\n    // #ifdef H5\r\n    if (uni.getSystemInfoSync().platform == 'ios') {\r\n      uni.setStorageSync('initUrl', location.href);\r\n    }\r\n    // #endif\r\n\r\n    uni.onNetworkStatusChange(function(res) {\r\n      if (!res.isConnected) {\r\n        uni.showModal({\r\n          title: '网络失去链接',\r\n          content: '请检查网络链接',\r\n          showCancel: false,\r\n        });\r\n      }\r\n    });\r\n  },\r\n  onShow: function() {\r\n    this.$store.dispatch('init');\r\n    // 自动登录\r\n    if (!uni.getStorageSync('token') && !uni.getStorageSync('loginLock') && !uni.getStorageSync('unbound')) {\r\n      // #ifdef H5 || MP-WEIXIN\r\n      if (this.$util.isWeiXin()) {\r\n        this.$util.getUrlCode(urlParams => {\r\n          if (urlParams.source_member) uni.setStorageSync('source_member', urlParams.source_member);\r\n          if (urlParams.code == undefined) {\r\n            this.$api.sendRequest({\r\n              url: '/wechat/api/wechat/authcode',\r\n              data: {\r\n                redirect_url: location.href,\r\n              },\r\n              success: res => {\r\n                if (res.code >= 0) {\r\n                  location.href = res.data;\r\n                }\r\n              },\r\n            });\r\n          } else {\r\n            this.$api.sendRequest({\r\n              url: '/wechat/api/wechat/authcodetoopenid',\r\n              data: {\r\n                code: urlParams.code,\r\n              },\r\n              success: res => {\r\n                if (res.code >= 0) {\r\n                  let data = {};\r\n                  if (res.data.openid) data.wx_openid = res.data.openid;\r\n                  if (res.data.unionid) data.wx_unionid = res.data.unionid;\r\n                  if (res.data.userinfo) Object.assign(data, res.data.userinfo);\r\n                  this.authLogin(data);\r\n                }\r\n              },\r\n            });\r\n          }\r\n        });\r\n      }\r\n      // #endif\r\n    }\r\n  },\r\n  onHide: function() {\r\n    this.$store.dispatch('getThemeStyle');\r\n  },\r\n  methods: {\r\n    /**\r\n     * 授权登录\r\n     */\r\n    authLogin(data) {\r\n      uni.setStorage({\r\n        key: 'authInfo',\r\n        data: data,\r\n      });\r\n\r\n      if (uni.getStorageSync('source_member')) data.source_member = uni.getStorageSync('source_member');\r\n\r\n      this.$api.sendRequest({\r\n        url: '/api/login/auth',\r\n        data,\r\n        success: res => {\r\n          if (res.code >= 0) {\r\n            uni.setStorage({\r\n              key: 'token',\r\n              data: res.data.token,\r\n              success: () => {\r\n                this.$store.dispatch('getCartNumber');\r\n                this.$store.commit('setToken', res.data.token);\r\n              },\r\n            });\r\n          } else {\r\n            uni.setStorage({\r\n              key: 'unbound',\r\n              data: 1,\r\n              success: () => {},\r\n            });\r\n          }\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import url('/common/css/iconfont.css');\r\n@import './common/css/main.scss';\r\n/* #ifdef H5 */\r\nuni-page[data-page='otherpages/index/city/city'] {\r\n  overflow: hidden !important;\r\n}\r\n/* #endif */\r\n</style>\n","import mod from \"-!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1666844720775\n      var cssReload = require(\"/Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}