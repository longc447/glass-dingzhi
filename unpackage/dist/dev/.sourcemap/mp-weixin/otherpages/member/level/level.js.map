{"version":3,"sources":["uni-app:///main.js","webpack:////Users/longchu/Documents/接单/改客服源码/otherpages/member/level/level.vue?ca23","webpack:////Users/longchu/Documents/接单/改客服源码/otherpages/member/level/level.vue?c1c5","webpack:////Users/longchu/Documents/接单/改客服源码/otherpages/member/level/level.vue?46eb","webpack:////Users/longchu/Documents/接单/改客服源码/otherpages/member/level/level.vue?1045","uni-app:///otherpages/member/level/level.vue","webpack:////Users/longchu/Documents/接单/改客服源码/otherpages/member/level/level.vue?0cf5","webpack:////Users/longchu/Documents/接单/改客服源码/otherpages/member/level/level.vue?1feb"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","nsProgress","toTop","uniPopup","mixins","data","couponPopList","curIndex","descIndex","isDescAnimating","scaleX","scaleY","swiperConfig","indicatorDots","indicatorColor","indicatorActiveColor","interval","duration","circular","previousMargin","nextMargin","levelList","needGrowth","growth","levelId","nowIndex","userInfo","rule","computed","listLen","remark","baseColor","nextIndex","onLoad","onShow","filters","rate","index","list","methods","swiperChange","e","that","clearTimeout","animationfinish","getBannerDetail","uni","title","mask","getLevelList","url","success","getLevelRule","getMemberInfo","v","fail","growthRules","openCoupon","id","closeCoupon","onBackPress","options"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,yG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACyN;AACzN,gBAAgB,uNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,+LAEN;AACP,KAAK;AACL;AACA,aAAa,uNAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpIA;AAAA;AAAA;AAAA;AAAg3B,CAAgB,i0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"otherpages/member/level/level.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './otherpages/member/level/level.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./level.vue?vue&type=template&id=693c5b3e&\"\nvar renderjs\nimport script from \"./level.vue?vue&type=script&lang=js&\"\nexport * from \"./level.vue?vue&type=script&lang=js&\"\nimport style0 from \"./level.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"otherpages/member/level/level.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./level.vue?vue&type=template&id=693c5b3e&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    loadingCover: function () {\n      return import(\n        /* webpackChunkName: \"components/loading-cover/loading-cover\" */ \"@/components/loading-cover/loading-cover.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.$util.img(\"/upload/uniapp/level/level-top-bg.png\")\n  var g1 = _vm.userInfo.headimg ? _vm.$util.img(_vm.userInfo.headimg) : null\n  var g2 = !_vm.userInfo.headimg ? _vm.$util.getDefaultImage() : null\n\n  var l0 = _vm.__map(_vm.levelList, function (item, i) {\n    var $orig = _vm.__get_orig(item)\n\n    var g3 = _vm.$util.img(\n      \"upload/uniapp/level/level_\" + (Number(i % 5) + 1) + \".png\"\n    )\n    return {\n      $orig: $orig,\n      g3: g3,\n    }\n  })\n\n  var g4 =\n    (_vm.levelList[_vm.curIndex].is_free_shipping > 0 ||\n      _vm.levelList[_vm.curIndex].consume_discount > 0 ||\n      _vm.levelList[_vm.curIndex].point_feedback > 0) &&\n    _vm.levelList[_vm.curIndex].is_free_shipping > 0\n      ? _vm.$util.img(\"upload/uniapp/level/exemption_postage.png\")\n      : null\n  var g5 =\n    (_vm.levelList[_vm.curIndex].is_free_shipping > 0 ||\n      _vm.levelList[_vm.curIndex].consume_discount > 0 ||\n      _vm.levelList[_vm.curIndex].point_feedback > 0) &&\n    _vm.levelList[_vm.curIndex].consume_discount > 0\n      ? _vm.$util.img(\"upload/uniapp/level/consumption_discount.png\")\n      : null\n  var g6 =\n    (_vm.levelList[_vm.curIndex].is_free_shipping > 0 ||\n      _vm.levelList[_vm.curIndex].consume_discount > 0 ||\n      _vm.levelList[_vm.curIndex].point_feedback > 0) &&\n    _vm.levelList[_vm.curIndex].point_feedback > 0\n      ? _vm.$util.img(\"upload/uniapp/level/integral_feedback.png\")\n      : null\n  var g7 =\n    (_vm.levelList[_vm.curIndex].send_balance > 0 ||\n      _vm.levelList[_vm.curIndex].send_balance > 0 ||\n      _vm.levelList[_vm.curIndex].send_coupon) &&\n    _vm.levelList[_vm.curIndex].send_point > 0\n      ? _vm.$util.img(\"upload/uniapp/level/integral.png\")\n      : null\n  var g8 =\n    (_vm.levelList[_vm.curIndex].send_balance > 0 ||\n      _vm.levelList[_vm.curIndex].send_balance > 0 ||\n      _vm.levelList[_vm.curIndex].send_coupon) &&\n    _vm.levelList[_vm.curIndex].send_balance > 0\n      ? _vm.$util.img(\"upload/uniapp/level/red_packet.png\")\n      : null\n  var g9 =\n    (_vm.levelList[_vm.curIndex].send_balance > 0 ||\n      _vm.levelList[_vm.curIndex].send_balance > 0 ||\n      _vm.levelList[_vm.curIndex].send_coupon) &&\n    _vm.levelList[_vm.curIndex].send_coupon\n      ? _vm.$util.img(\"upload/uniapp/level/coupon.png\")\n      : null\n\n  var l1 = _vm.__map(_vm.couponPopList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g10 =\n      item.type == \"discount\" ? _vm.$util.numberFixed(item.discount, 1) : null\n    return {\n      $orig: $orig,\n      g10: g10,\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.userInfo.headimg = _vm.$util.getDefaultImage().default_headimg\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        l0: l0,\n        g4: g4,\n        g5: g5,\n        g6: g6,\n        g7: g7,\n        g8: g8,\n        g9: g9,\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./level.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./level.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"member-level\" :data-theme=\"themeStyle\">\r\n\t\t<view class=\"level-top\"><image :src=\"$util.img('/upload/uniapp/level/level-top-bg.png')\"></image></view>\r\n\t\t<view class=\"banner-container\">\r\n\t\t\t<view class=\"memberInfo\">\r\n\t\t\t\t<image :src=\"$util.img(userInfo.headimg)\" v-if=\"userInfo.headimg\" @error=\"userInfo.headimg = $util.getDefaultImage().default_headimg\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<image :src=\"$util.getDefaultImage().default_headimg\" v-else mode=\"aspectFill\"></image>\r\n\t\t\t\t<view class=\"member-desc\">\r\n\t\t\t\t\t<view class=\"font-size-base\">{{ userInfo.nickname }}</view>\r\n\t\t\t\t\t<view class=\"font-size-activity-tag\">当前等级：{{ userInfo.member_level_name }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"growth-rules font-size-tag\" @click=\"growthRules\">\r\n\t\t\t\t\t<i class=\"iconfont iconwenhao font-size-tag\"></i>\r\n\t\t\t\t\t成长规则\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<swiper\r\n\t\t\t\t:style=\"{ width: '100vw', height: '390rpx' }\"\r\n\t\t\t\tclass=\"margin-bottom\"\r\n\t\t\t\t:indicator-dots=\"swiperConfig.indicatorDots\"\r\n\t\t\t\t:indicator-color=\"swiperConfig.indicatorColor\"\r\n\t\t\t\t:indicator-active-color=\"swiperConfig.indicatorActiveColor\"\r\n\t\t\t\t:autoplay=\"false\"\r\n\t\t\t\t:interval=\"swiperConfig.interval\"\r\n\t\t\t\t:duration=\"swiperConfig.duration\"\r\n\t\t\t\t:circular=\"swiperConfig.circular\"\r\n\t\t\t\t:previous-margin=\"swiperConfig.previousMargin\"\r\n\t\t\t\t:next-margin=\"swiperConfig.nextMargin\"\r\n\t\t\t\t@change=\"swiperChange\"\r\n\t\t\t\t@animationfinish=\"animationfinish\"\r\n\t\t\t\t:current=\"curIndex\"\r\n\t\t\t>\r\n\t\t\t\t<swiper-item :class=\"levelList.length == 1 ? 'image-container-box' : ''\" v-for=\"(item, i) in levelList\" :key=\"i\">\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tclass=\"image-container\"\r\n\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\tcurIndex === 0\r\n\t\t\t\t\t\t\t\t? i === listLen - 1\r\n\t\t\t\t\t\t\t\t\t? 'item-left'\r\n\t\t\t\t\t\t\t\t\t: i === 1\r\n\t\t\t\t\t\t\t\t\t? 'item-right'\r\n\t\t\t\t\t\t\t\t\t: 'item-center'\r\n\t\t\t\t\t\t\t\t: curIndex === listLen - 1\r\n\t\t\t\t\t\t\t\t? i === 0\r\n\t\t\t\t\t\t\t\t\t? 'item-right'\r\n\t\t\t\t\t\t\t\t\t: i === listLen - 2\r\n\t\t\t\t\t\t\t\t\t? 'item-left'\r\n\t\t\t\t\t\t\t\t\t: 'item-center'\r\n\t\t\t\t\t\t\t\t: i === curIndex - 1\r\n\t\t\t\t\t\t\t\t? 'item-left'\r\n\t\t\t\t\t\t\t\t: i === curIndex + 1\r\n\t\t\t\t\t\t\t\t? 'item-right'\r\n\t\t\t\t\t\t\t\t: 'item-center'\r\n\t\t\t\t\t\t]\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\tclass=\"slide-image\"\r\n\t\t\t\t\t\t\tstyle=\"background-size: 100% 100%;background-repeat:no-repeat\"\r\n\t\t\t\t\t\t\t:style=\"{\r\n\t\t\t\t\t\t\t\ttransform: curIndex === i ? 'scale(' + scaleX + ',' + scaleY + ')' : 'scale(1,1)',\r\n\t\t\t\t\t\t\t\ttransitionDuration: '.3s',\r\n\t\t\t\t\t\t\t\ttransitionTimingFunction: 'ease'\r\n\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<image :src=\"$util.img('upload/uniapp/level/level_' + (Number(i % 5) + 1) + '.png')\"></image>\r\n\t\t\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t\t\t<view class=\"level-detail\">\r\n\t\t\t\t\t\t\t\t\t{{ levelList[curIndex].level_name }}\r\n\t\t\t\t\t\t\t\t\t<text class=\"isnow color-base-bg\" v-if=\"levelId == item.level_id\">当前等级</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"growr-equity\">{{levelList[curIndex].remark ? levelList[curIndex].remark : ''}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"growr-name\">当前成长值<text class=\"growr-value\">{{ growth }}</text></view>\r\n\t\t\t\t\t\t\t\t<block v-if=\"levelId == item.level_id\">\r\n\t\t\t\t\t\t\t\t\t<block v-if=\"levelList[curIndex + 1] != undefined\">\r\n\t\t\t\t\t\t\t\t\t\t<ns-progress :progress=\"levelList[curIndex + 1].rate\"></ns-progress>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"residue-growr-value\">\r\n\t\t\t\t\t\t\t\t\t\t\t再获得{{ levelList[curIndex + 1].needGrowth > 0 ? levelList[curIndex + 1].needGrowth : 0 }}成长值成为{{\r\n\t\t\t\t\t\t\t\t\t\t\t\tlevelList[curIndex + 1].level_name\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t<block v-else><view class=\"residue-growr-value\">您现在已经是最高等级</view></block>\r\n\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t\t<ns-progress :progress=\"levelList[curIndex].rate\" v-if=\"levelList[curIndex].needGrowth > 0\"></ns-progress>\r\n\t\t\t\t\t\t\t\t\t<view class=\"residue-growr-value\" v-if=\"levelList[curIndex].needGrowth > 0\">\r\n\t\t\t\t\t\t\t\t\t\t再获得{{ levelList[curIndex].needGrowth }}成长值成为{{ levelList[curIndex].level_name }}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t\t<view class=\"member-equity\" v-if=\"levelList[curIndex].is_free_shipping > 0 || levelList[curIndex].consume_discount > 0 || levelList[curIndex].point_feedback > 0\">\r\n\t\t\t\t<view class=\"equity-title\">会员权益</view>\r\n\t\t\t\t<view class=\"equity-itme\" v-if=\"levelList[curIndex].is_free_shipping > 0\">\r\n\t\t\t\t\t<image :src=\"$util.img('upload/uniapp/level/exemption_postage.png')\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<view class=\"equity-content\" :class=\"{ active: levelList[curIndex].consume_discount > 0 }\">\r\n\t\t\t\t\t\t<text>包邮服务</text>\r\n\t\t\t\t\t\t<text class=\"equity-desc\">提供商品包邮服务</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"equity-itme\" v-if=\"levelList[curIndex].consume_discount > 0\">\r\n\t\t\t\t\t<image :src=\"$util.img('upload/uniapp/level/consumption_discount.png')\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<view class=\"equity-content\" :class=\"{ active: levelList[curIndex].point_feedback > 0 }\">\r\n\t\t\t\t\t\t<text>享受消费折扣服务</text>\r\n\t\t\t\t\t\t<text class=\"equity-desc\">提供{{ levelList[curIndex].consume_discount }}折消费折扣</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"equity-itme\" v-if=\"levelList[curIndex].point_feedback > 0\">\r\n\t\t\t\t\t<image :src=\"$util.img('upload/uniapp/level/integral_feedback.png')\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<view class=\"equity-content\">\r\n\t\t\t\t\t\t<text>享受积分回馈服务</text>\r\n\t\t\t\t\t\t<text class=\"equity-desc\">提供{{ levelList[curIndex].point_feedback }}倍积分回馈倍率</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"member-gift\" v-if=\"levelList[curIndex].send_balance > 0 || levelList[curIndex].send_balance > 0 || levelList[curIndex].send_coupon\">\r\n\t\t\t\t<view class=\"gift-title\">会员礼包</view>\r\n\t\t\t\t<view class=\"gift-itme\" v-if=\"levelList[curIndex].send_point > 0\">\r\n\t\t\t\t\t<image :src=\"$util.img('upload/uniapp/level/integral.png')\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<view class=\"gift-content\" :class=\"{ active: levelList[curIndex].send_balance > 0 }\">\r\n\t\t\t\t\t\t<text>积分礼包</text>\r\n\t\t\t\t\t\t<text class=\"gift-desc\">赠送{{ levelList[curIndex].send_point }}积分</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"gift-itme\" v-if=\"levelList[curIndex].send_balance > 0\">\r\n\t\t\t\t\t<image :src=\"$util.img('upload/uniapp/level/red_packet.png')\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<view class=\"gift-content\" :class=\"{ active: levelList[curIndex].send_coupon }\">\r\n\t\t\t\t\t\t<text>红包礼包</text>\r\n\t\t\t\t\t\t<text class=\"gift-desc\">赠送{{ levelList[curIndex].send_balance }}元红包</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"gift-itme\" v-if=\"levelList[curIndex].send_coupon\" @click=\"openCoupon(levelList[curIndex].send_coupon)\">\r\n\t\t\t\t\t<image :src=\"$util.img('upload/uniapp/level/coupon.png')\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<view class=\"gift-content\">\r\n\t\t\t\t\t\t<text>优惠券礼包</text>\r\n\t\t\t\t\t\t<text class=\"gift-desc\">赠送{{ levelList[curIndex].coupon_length }}张优惠券</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 优惠券 -->\r\n\t\t<uni-popup ref=\"couponPopup\" type=\"bottom\">\r\n\t\t\t<view class=\"coupon-popup-box\">\r\n\t\t\t\t<view class=\"coupon-popup-title\" @click=\"closeCoupon\">\r\n\t\t\t\t\t优惠券\r\n\t\t\t\t\t<text class=\"iconfont iconclose\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view class=\"coupon-popup-content\" scroll-y>\r\n\t\t\t\t\t<view class=\"coupon-item\" v-for=\"(item, index) in couponPopList\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"coupon-name\">\r\n\t\t\t\t\t\t\t<text class=\"name\">{{ item.coupon_name }}</text>\r\n\t\t\t\t\t\t\t<text class=\"desc\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"coupon-price\" v-if=\"item.type == 'reward'\">\r\n\t\t\t\t\t\t\t<text>{{ item.money }}</text>\r\n\t\t\t\t\t\t\t元\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"coupon-price\" v-if=\"item.type == 'discount'\">\r\n\t\t\t\t\t\t\t<text>{{ $util.numberFixed(item.discount, 1) }}</text>\r\n\t\t\t\t\t\t\t折\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\r\n\t\t<to-top v-if=\"showTop\" @toTop=\"scrollToTopNative()\"></to-top>\r\n\t\t<loading-cover ref=\"loadingCover\"></loading-cover>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport globalConfig from '@/common/js/golbalConfig.js';\r\nimport nsProgress from '@/otherpages/components/ns-progress/ns-progress.vue';\r\nimport toTop from '@/components/toTop/toTop.vue';\r\nimport scroll from '@/common/js/scroll-view.js';\r\nimport uniPopup from '@/components/uni-popup/uni-popup.vue';\r\nexport default {\r\n\tcomponents: {\r\n\t\tnsProgress,\r\n\t\ttoTop,\r\n\t\tuniPopup\r\n\t},\r\n\tmixins: [scroll, globalConfig],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcouponPopList: [],\r\n\t\t\tcurIndex: 0,\r\n\t\t\tdescIndex: 0,\r\n\t\t\tisDescAnimating: false,\r\n\t\t\tscaleX: (634 / 540).toFixed(4),\r\n\t\t\tscaleY: (378 / 330).toFixed(4),\r\n\t\t\tswiperConfig: {\r\n\t\t\t\tindicatorDots: false,\r\n\t\t\t\tindicatorColor: 'rgba(255, 255, 255, .4)',\r\n\t\t\t\tindicatorActiveColor: 'rgba(255, 255, 255, 1)',\r\n\t\t\t\tinterval: 3000,\r\n\t\t\t\tduration: 300,\r\n\t\t\t\tcircular: false,\r\n\t\t\t\tpreviousMargin: '58rpx',\r\n\t\t\t\tnextMargin: '58rpx'\r\n\t\t\t},\r\n\t\t\tlevelList: [\r\n\t\t\t\t{\r\n\t\t\t\t\tneedGrowth: 0,\r\n\t\t\t\t\tgrowth: 0\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlevelId: 0,\r\n\t\t\tgrowth: 0,\r\n\r\n\t\t\tnowIndex: 0, //我当前所在等级的index\r\n\t\t\tuserInfo: {},\r\n\t\t\trule: [] //成长值规则\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tlistLen() {\r\n\t\t\treturn this.levelList.length;\r\n\t\t},\r\n\t\tremark() {\r\n\t\t\tif (this.levelList[this.curIndex]) {\r\n\t\t\t\treturn this.levelList[this.curIndex].remark;\r\n\t\t\t}\r\n\t\t},\r\n\t\tbaseColor() {\r\n\t\t\treturn this.$store.state.baseColor;\r\n\t\t},\r\n\t\tnextIndex() {\r\n\t\t\tlet num = 0;\r\n\t\t\tif (this.curIndex == this.levelList.length - 1) {\r\n\t\t\t\treturn this.curIndex;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.curIndex + 1;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tonLoad() {\r\n\t\t//会员等级\r\n\t\tthis.getLevelList();\r\n\t\tthis.getLevelRule();\r\n\t},\r\n\tonShow() {\r\n\t\t// 刷新多语言\r\n\t\tthis.$langConfig.refresh();\r\n\t},\r\n\tfilters: {\r\n\t\trate(index, list, growth) {\r\n\t\t\tlet nowGrowth = Number(growth);\r\n\t\t\tlet minGrouth = Number(list[index].growth);\r\n\t\t\tif (index == list.length - 1) {\r\n\t\t\t\treturn nowGrowth > minGrouth ? 100 : 0;\r\n\t\t\t} else {\r\n\t\t\t\tlet maxGrouth = Number(list[index + 1].growth);\r\n\t\t\t\tlet num2 = nowGrowth - minGrouth;\r\n\t\t\t\tlet num1 = maxGrouth - minGrouth;\r\n\t\t\t\tlet num = Math.floor((num2 / num1) * 100);\r\n\t\t\t\treturn num > 100 ? 100 : num;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tswiperChange(e) {\r\n\t\t\tlet that = this;\r\n\t\t\tthis.curIndex = e.detail.current;\r\n\t\t\tthis.isDescAnimating = true;\r\n\t\t\tlet timer = setTimeout(function() {\r\n\t\t\t\tthat.descIndex = e.detail.current;\r\n\t\t\t\tclearTimeout(timer);\r\n\t\t\t}, 150);\r\n\t\t},\r\n\t\tanimationfinish(e) {\r\n\t\t\tthis.isDescAnimating = false;\r\n\t\t},\r\n\t\tgetBannerDetail(index) {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '将前往详情页面',\r\n\t\t\t\tduration: 2000,\r\n\t\t\t\tmask: true\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetLevelList() {\r\n\t\t\tthis.$api.sendRequest({\r\n\t\t\t\turl: '/api/memberlevel/lists',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.data && res.code == 0) {\r\n\t\t\t\t\t\tthis.levelList = res.data;\r\n\t\t\t\t\t\tfor (var i = 0; i < this.levelList.length; i++) {\r\n\t\t\t\t\t\t\tif (this.levelList[i].send_coupon) {\r\n\t\t\t\t\t\t\t\tthis.levelList[i].coupon_length = this.levelList[i].send_coupon.split(',').length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.getMemberInfo();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetLevelRule() {\r\n\t\t\tthis.$api.sendRequest({\r\n\t\t\t\turl: '/api/member/accountrule',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.code == 0 && res.data && res.data.growth) {\r\n\t\t\t\t\t\tthis.rule = res.data.growth;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetMemberInfo() {\r\n\t\t\tthis.$api.sendRequest({\r\n\t\t\t\turl: '/api/member/info',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.data && res.code == 0) {\r\n\t\t\t\t\t\tthis.levelId = res.data.member_level;\r\n\t\t\t\t\t\tthis.growth = res.data.growth;\r\n\t\t\t\t\t\tthis.userInfo = res.data;\r\n\t\t\t\t\t\tthis.levelList.forEach((v, i) => {\r\n\t\t\t\t\t\t\tif (v.level_id == res.data.member_level) {\r\n\t\t\t\t\t\t\t\tthis.curIndex = i;\r\n\t\t\t\t\t\t\t\tthis.descIndex = i;\r\n\t\t\t\t\t\t\t\tthis.nowIndex = i;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.levelList.forEach((v, i) => {\r\n\t\t\t\t\t\t\tif (parseFloat(v.growth) < parseFloat(this.growth)) {\r\n\t\t\t\t\t\t\t\tv.needGrowth = 0;\r\n\t\t\t\t\t\t\t\tv.rate = 100;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tv.needGrowth = (parseFloat(v.growth) - parseFloat(this.growth)).toFixed(2);\r\n\t\t\t\t\t\t\t\tv.rate = (this.growth / v.growth).toFixed(2) * 100;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tthis.levelList.forEach(v => {\r\n\t\t\t\t\t\t\tif (v.consume_discount) {\r\n\t\t\t\t\t\t\t\tv.consume_discount = (v.consume_discount / 10).toFixed(2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$util.showToast({\r\n\t\t\t\t\t\t\ttitle: res.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t\t},\r\n\t\t\t\tfail: res => {\r\n\t\t\t\t\tif (this.$refs.loadingCover) this.$refs.loadingCover.hide();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgrowthRules() {\r\n\t\t\tthis.$util.redirectTo('/otherpages/member/level/level_growth_rules');\r\n\t\t},\r\n\t\topenCoupon(data) {\r\n\t\t\tthis.couponPopList = [];\r\n\t\t\tthis.$api.sendRequest({\r\n\t\t\t\turl: '/coupon/api/coupon/couponbyid',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: data\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.code >= 0) {\r\n\t\t\t\t\t\tthis.couponPopList = res.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.$refs.couponPopup.open();\r\n\t\t},\r\n\t\tcloseCoupon() {\r\n\t\t\tthis.$refs.couponPopup.close();\r\n\t\t}\r\n\t},\r\n\tonBackPress(options) {\r\n\t\tif (options.from === 'navigateBack') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis.$util.redirectTo('/pages/member/index/index', {}, 'reLaunch');\r\n\t\treturn true;\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '../public/css/level.scss';\r\n</style>\r\n","import mod from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./level.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./level.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1666847644235\n      var cssReload = require(\"/Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}