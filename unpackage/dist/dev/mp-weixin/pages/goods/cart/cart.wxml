<view class="{{['allPage','data-v-05a48acd',(hasData)?'bottom':'']}}" data-theme="{{themeStyle}}"><scroll-view class="container data-v-05a48acd" scroll-x="{{true}}" show-scrollbar="{{false}}"><block wx:if="{{hasData}}"><block class="data-v-05a48acd"><block wx:for="{{$root.l1}}" wx:for-item="siteItem" wx:for-index="siteIndex" wx:key="siteIndex"><view class="cart-wrap data-v-05a48acd"><view class="cart-header data-v-05a48acd"><view data-event-opts="{{[['tap',[['siteAllElection',[!siteItem.$orig.checked,siteIndex]]]]]}}" class="{{['iconfont','data-v-05a48acd',siteItem.$orig.checked?'iconyuan_checked color-base-text':'iconyuan_checkbox']}}" bindtap="__e"></view><view class="iconfont icondianpu data-v-05a48acd"></view><view class="shop-info data-v-05a48acd"><text class="data-v-05a48acd">{{siteItem.$orig.siteName}}</text></view><view class="num-wrap font-size-tag data-v-05a48acd">共<text class="color-base-text data-v-05a48acd">{{siteItem.$orig.cartList.length}}</text>件商品</view><view data-event-opts="{{[['tap',[['changeAction',['$event']]]]]}}" class="cart-action data-v-05a48acd" bindtap="__e">{{isAction?$root.m0:$root.m1}}</view></view><block wx:for="{{siteItem.l0}}" wx:for-item="item" wx:for-index="cartIndex" wx:key="cartIndex"><block class="data-v-05a48acd"><view data-event-opts="{{[['touchstart',[['touchS',['$event']]]],['touchend',[['touchE',['$event','$0'],[[['cartData','',siteIndex],['cartList','',cartIndex]]]]]]]}}" class="cart-goods data-v-05a48acd" bindtouchstart="__e" bindtouchend="__e"><view class="{{['goods-wrap','data-v-05a48acd',(item.$orig.edit)?'edit':'']}}"><view data-event-opts="{{[['tap',[['singleElection',[siteIndex,cartIndex]]]]]}}" class="{{['iconfont','data-v-05a48acd',item.$orig.checked?'iconyuan_checked color-base-text':'iconyuan_checkbox']}}" bindtap="__e"></view><view class="goods-info data-v-05a48acd"><view data-event-opts="{{[['tap',[['toGoodsDetail',['$0'],[[['cartData','',siteIndex],['cartList','',cartIndex]]]]]]]}}" class="goods-name data-v-05a48acd" bindtap="__e"><text style="font-size:35rpx;font-weight:bold;" class="data-v-05a48acd">{{item.$orig.goods_name}}</text></view><block wx:if="{{item.$orig.sku_spec_format}}"><view class="sku data-v-05a48acd"><view class="goods-spec data-v-05a48acd"><block wx:for="{{item.$orig.sku_spec_format}}" wx:for-item="x" wx:for-index="i" wx:key="i"><block wx:if="{{item.$orig.luminosity_status!=1}}"><block class="data-v-05a48acd">{{x.spec_value_name+" "+(i<item.$orig.sku_spec_format.length-1?';':'')}}</block></block></block></view></view></block><sku-list vue-id="{{'a225604e-1-'+siteIndex+'-'+cartIndex}}" goodsItem="{{item.$orig}}" class="data-v-05a48acd" bind:__l="__l"></sku-list><view class="sku data-v-05a48acd"></view><view class="goods-sub-section data-v-05a48acd"><block wx:if="{{item.$orig.promotion_type==1}}"><block class="data-v-05a48acd"><view class="goods-price color-base-text data-v-05a48acd"><view class="bottom-price color-base-text data-v-05a48acd"><text class="unit data-v-05a48acd">{{item.m2}}</text>{{''+item.$orig.discount_price+''}}<image src="{{item.g0}}" class="data-v-05a48acd"></image></view></view></block></block><block wx:else><block class="data-v-05a48acd"><view class="goods-price color-base-text data-v-05a48acd"><view class="bottom-price color-base-text data-v-05a48acd"><text class="unit data-v-05a48acd">{{item.m3}}</text>{{''+item.$orig.discount_price+''}}</view></view></block></block><uni-number-box vue-id="{{'a225604e-2-'+siteIndex+'-'+cartIndex}}" min="{{item.$orig.min_buy>1?item.$orig.min_buy:1}}" max="{{item.$orig.max_buy>0&&item.$orig.max_buy<item.$orig.stock?item.$orig.max_buy:item.$orig.stock}}" value="{{item.m4}}" size="small" modifyFlag="{{modifyFlag}}" data-event-opts="{{[['^change',[['cartNumChange',['$event',['o',['siteIndex',siteIndex],['cartIndex',cartIndex]]]]]],['^limit',[['goodsLimit',['$event',siteIndex,cartIndex]]]]]}}" bind:change="__e" bind:limit="__e" class="data-v-05a48acd" bind:__l="__l"></uni-number-box></view></view></view><view data-event-opts="{{[['tap',[['deleteCart',['single',siteIndex,cartIndex]]]]]}}" class="{{['item-del','color-base-bg','data-v-05a48acd',(item.$orig.edit)?'show':'']}}" bindtap="__e">{{siteItem.m5}}</view></view></block></block></view></block><block wx:if="{{invalidGoods.length}}"><view class="cart-wrap invalid data-v-05a48acd"><view class="cart-header data-v-05a48acd"><view class="num-wrap data-v-05a48acd"><text class="font-size-base data-v-05a48acd">{{"失效商品"+invalidGoods.length+"件"}}</text></view><view data-event-opts="{{[['tap',[['clearInvalidGoods',['$event']]]]]}}" class="cart-action color-base-text font-size-goods-tag data-v-05a48acd" bindtap="__e">清空</view></view><block wx:for="{{$root.l2}}" wx:for-item="goodsItem" wx:for-index="goodsIndex" wx:key="goodsIndex"><block class="data-v-05a48acd"><view class="cart-goods invalid-goods data-v-05a48acd"><view class="goods-wrap data-v-05a48acd"><view class="iconfont iconyuan_checked color-tip data-v-05a48acd"></view><view class="goods-img data-v-05a48acd"><image src="{{goodsItem.g1}}" mode="aspectFill" class="data-v-05a48acd"></image></view><view class="goods-info data-v-05a48acd"><view class="goods-name data-v-05a48acd" style="font-size:50rpx;font-weight:bold;">{{goodsItem.$orig.sku_name}}</view><view class="sku data-v-05a48acd"><view class="goods-spec data-v-05a48acd"><block wx:for="{{goodsItem.$orig.sku_spec_format}}" wx:for-item="x" wx:for-index="i" wx:key="i"><block class="data-v-05a48acd">{{x.spec_value_name+" "+(i<goodsItem.$orig.sku_spec_format.length-1?'; ':'')}}</block></block></view></view><view class="goods-sub-section data-v-05a48acd"><text class="goods-price color-base-text data-v-05a48acd"><text class="unit data-v-05a48acd">{{$root.m6}}</text>{{''+goodsItem.$orig.discount_price+''}}</text><text class="invalid-mark data-v-05a48acd">已失效</text></view></view></view></view></block></block></view></block></block></block><block wx:else><block class="data-v-05a48acd"><view class="cart-empty data-v-05a48acd"><image src="{{$root.g2}}" mode="aspectFit" class="data-v-05a48acd"></image><view class="color-tip margin-top margin-bottom data-v-05a48acd">{{$root.m7}}</view><block wx:if="{{token!=''}}"><button class="button data-v-05a48acd" type="primary" size="mini" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" bindtap="__e">去逛逛</button></block><block wx:else><button class="button data-v-05a48acd" type="primary" size="mini" data-event-opts="{{[['tap',[['toLogin',['$event']]]]]}}" bindtap="__e">去登录</button></block></view></block></block></scroll-view><block wx:if="{{hasData}}"><view class="{{['data-v-05a48acd','cart-bottom',styleIPhone12?'iphone12':'',isIphoneX?'active':'']}}"><view data-event-opts="{{[['tap',[['allElection',['$event']]]]]}}" class="all-election data-v-05a48acd" bindtap="__e"><view class="{{['iconfont','data-v-05a48acd',checkAll?'iconyuan_checked color-base-text':'iconyuan_checkbox']}}"></view><text class="data-v-05a48acd">{{$root.m8}}</text></view><view class="settlement-info data-v-05a48acd" style="{{'visibility:'+(isAction?'hidden':'visible')+';'}}">{{''+$root.m9+'：'}}<text class="color-base-text font-size-toolbar data-v-05a48acd">{{$root.m10+totalPrice}}</text></view><block wx:if="{{isAction}}"><view class="action-btn data-v-05a48acd"><button class="delete data-v-05a48acd" type="primary" size="mini" plain="{{true}}" data-event-opts="{{[['tap',[['deleteCart',['all']]]]]}}" bindtap="__e">{{$root.m11}}</button></view></block><block wx:else><view class="action-btn data-v-05a48acd"><block wx:if="{{totalCount!=0}}"><button type="primary" size="mini" data-event-opts="{{[['tap',[['settlement',['$event']]]]]}}" bindtap="__e" class="data-v-05a48acd">{{$root.m12+"("+totalCount+")"}}</button></block><block wx:else><button type="primary" size="mini" disabled="{{true}}" data-event-opts="{{[['tap',[['settlement',['$event']]]]]}}" bindtap="__e" class="data-v-05a48acd">{{$root.m13+"("+totalCount+")"}}</button></block></view></block></view></block><loading-cover vue-id="a225604e-3" data-ref="loadingCover" class="data-v-05a48acd vue-ref" bind:__l="__l"></loading-cover><diy-bottom-nav vue-id="a225604e-4" type="shop" class="data-v-05a48acd" bind:__l="__l"></diy-bottom-nav><block wx:if="{{showTop}}"><to-top bind:toTop="__e" vue-id="a225604e-5" data-event-opts="{{[['^toTop',[['scrollToTopNative']]]]}}" class="data-v-05a48acd" bind:__l="__l"></to-top></block><ns-login vue-id="a225604e-6" data-ref="login" class="data-v-05a48acd vue-ref" bind:__l="__l"></ns-login></view>