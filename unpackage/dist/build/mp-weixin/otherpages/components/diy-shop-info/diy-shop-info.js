require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["otherpages/components/diy-shop-info/diy-shop-info"],{"3f6b":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{shopInfo:{logo:"",site_name:"",sub_num:0,shop_desccredit:0,shop_servicecredit:0,shop_deliverycredit:0},hasFollow:!1}},props:{value:{type:Object,default:null},siteId:{type:[Number,String],default:0},type:{type:Number,default:0}},watch:{siteId:function(){this.getShopInfo(),this.isFollow()}},created:function(){this.getShopInfo(),this.isFollow()},methods:{follow:function(){var e=this,o=this;t.getStorageSync("token")?this.hasFollow?t.showModal({title:"提示",content:"真的要取消关注嘛",success:function(t){t.confirm&&o.$api.sendRequest({url:"/api/shopmember/delete",data:{site_id:o.siteId},success:function(t){0==t.code&&t.data&&(o.hasFollow=!o.hasFollow,o.$util.showToast({title:"取消成功"})),o.$forceUpdate()}})}}):this.$api.sendRequest({url:"/api/shopmember/add",data:{site_id:this.siteId},success:function(t){if(-1==t.code&&"TOKEN_ERROR"==t.error_code)return e.$util.showToast({title:"登录失败"}),void setTimeout((function(){e.$util.redirectTo("/pages/login/login/login",{back:"/otherpages/shop/index/index?site_id="+e.siteId},"redirectTo")}),1e3);0==t.code&&(e.hasFollow=!e.hasFollow,e.$util.showToast({title:"关注成功"})),e.$forceUpdate()}}):this.$util.redirectTo("/pages/login/login/login",{back:"/otherpages/shop/index/index?site_id="+this.siteId},"redirectTo")},toIntroduction:function(){"otherpages/shop/introduce/introduce"!=getCurrentPages()[getCurrentPages().length-1].route&&this.$util.redirectTo("/otherpages/shop/introduce/introduce",{site_id:this.siteId})},getShopInfo:function(){var t=this;this.$api.sendRequest({url:"/api/shop/info",data:{site_id:this.siteId},success:function(e){0==e.code&&(t.shopInfo=e.data)}})},isFollow:function(){var t=this;this.$api.sendRequest({url:"/api/shopmember/issubscribe",data:{site_id:this.siteId},success:function(e){0==e.code&&(t.hasFollow=e.data)}})}}};e.default=o}).call(this,o("543d")["default"])},"554b":function(t,e,o){},7117:function(t,e,o){"use strict";o.r(e);var i=o("3f6b"),s=o.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},"8a34":function(t,e,o){"use strict";var i=o("554b"),s=o.n(i);s.a},abd5:function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return s})),o.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,o=(t._self._c,t.shopInfo&&t.shopInfo.avatar?t.$util.img(t.shopInfo.avatar):null),i=t.shopInfo&&!t.shopInfo.avatar?t.$util.getDefaultImage():null,s=t.shopInfo?((parseFloat(t.shopInfo.shop_desccredit)+parseFloat(t.shopInfo.shop_servicecredit)+parseFloat(t.shopInfo.shop_deliverycredit))/3).toFixed(1):null;t._isMounted||(t.e0=function(e){t.shopInfo.avatar=t.$util.getDefaultImage().default_shop_img}),t.$mp.data=Object.assign({},{$root:{g0:o,g1:i,g2:s}})},s=[]},d2fc:function(t,e,o){"use strict";o.r(e);var i=o("abd5"),s=o("7117");for(var n in s)["default"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return s[t]}))}(n);o("8a34");var a=o("f0c5"),u=Object(a["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=u.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'otherpages/components/diy-shop-info/diy-shop-info-create-component',
    {
        'otherpages/components/diy-shop-info/diy-shop-info-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("d2fc"))
        })
    },
    [['otherpages/components/diy-shop-info/diy-shop-info-create-component']]
]);
